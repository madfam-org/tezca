# Tezca

> Mexican open law platform providing machine-readable access to 30,343 laws (333 federal + 150 reglamentos + 11,363 state legislative + 18,439 state non-legislative + 208 municipal) with 3.48M+ searchable articles. Trilingual UI (ES/EN/NAH). Monorepo: Next.js 16 frontend, Django 5 REST API, Elasticsearch 7.17 search, Akoma Ntoso XML parsing (98.9% accuracy). License: AGPL-3.0.

This is the repository for Tezca (formerly Leyes Como Codigo Mexico), an open-source legal research platform that digitizes the Mexican legal system. The codebase is a polyglot monorepo managed by NPM Workspaces (frontend) and Poetry (backend). The API exposes OpenAPI documentation at `/api/docs/`.

## Core Documentation

- [README](README.md): Project overview, quick start, coverage table, features, architecture
- [Strategic Overview](docs/strategy/STRATEGIC_OVERVIEW.md): Vision, current status dashboard, architecture topology, 6-month goals
- [Product Roadmap](ROADMAP.md): Phase-by-phase progress, sprint history, upcoming work
- [Setup Guide](docs/guides/SETUP.md): Prerequisites, installation, environment configuration, development servers

## Architecture

- [System Architecture](docs/architecture/ARCHITECTURE.md): Akoma Ntoso layer, FRBR URIs, data model, cross-references
- [Monorepo Structure](docs/architecture/MONOREPO.md): NPM Workspaces + Poetry, workspace layout, dependency management
- [Tech Stack](docs/architecture/TECH_STACK.md): Approved technologies (Next.js 16, Django 5, Tailwind 4, Elasticsearch 7.17, Zod v4)
- [Legal Ontology](docs/architecture/ONTOLOGY.md): Data model for Mexican legal hierarchy (federal, state, municipal)
- [Agent Patterns](docs/architecture/AGENTS.md): Agent-based development patterns and conventions

## API Reference

- [OpenAPI Schema](/api/schema/): Downloadable OpenAPI 3.0 spec (when server running)
- [Swagger UI](/api/docs/): Interactive API documentation (when server running)
- [API Source — Laws](apps/api/law_views.py): Law endpoints (list, detail, articles, structure, references, related, categories, suggest)
- [API Source — Search](apps/api/search_views.py): Full-text search with faceted aggregations
- [API Source — Export](apps/api/export_views.py): 6-format export (TXT/PDF/LaTeX/DOCX/EPUB/JSON) with tier-based quotas
- [API Source — Cross-References](apps/api/cross_reference_views.py): Law and article cross-reference endpoints
- [API Source — Admin](apps/api/views.py): Ingestion management
- [API Source — Admin Functions](apps/api/admin_views.py): Health, metrics, config, jobs, pipeline, coverage, gaps, roadmap
- [API Source — Storage](apps/api/storage.py): Dual-backend storage abstraction (local + Cloudflare R2)
- [URL Routes](apps/api/urls.py): All API route definitions
- [Shared Types](packages/lib/src/types.ts): TypeScript types (Law, SearchResult, DashboardStats, etc.)
- [Zod Schemas](packages/lib/src/schemas.ts): Runtime validation schemas mirroring types

## Data Pipeline

- [Mexican Legal Universe](docs/data/MEXICAN_LEGAL_UNIVERSE.md): 7-tier taxonomy (~670K+ instruments), coverage roadmap
- [OJN Scraping Strategy](docs/research/OJN_SCRAPING_STRATEGY.md): Orden Jurídico Nacional portal structure, URL patterns
- [State Scraping Report](docs/research/STATE_LAW_SCRAPING_REPORT.md): 11,363 laws scraped (93.7% success), 782 permanent gaps
- [Parser Gaps Analysis](docs/research/PARSER_GAPS_ANALYSIS.md): Parser accuracy deep-dive (98.9%)
- [Data Sources](docs/resources/SOURCES.md): Registry of all data sources
- [Partnership Directory](docs/data/PARTNERSHIP_DIRECTORY.md): 18+ institutions for data acquisition

## Operations

- [DataOps Escalation Playbook](docs/dataops/ESCALATION_PLAYBOOK.md): 5-tier system for gap resolution + contact templates
- [System Management](docs/guides/SYSTEM_MANAGEMENT.md): Celery workers, Elasticsearch, scheduled tasks
- [Testing Strategy](docs/guides/TESTING_STRATEGY.md): 229 web (Vitest) + 51 admin (Vitest) + ~201 backend (Pytest) + 8 E2E (Playwright)
- [Code Quality](docs/guides/code_quality.md): File size limits, pre-commit hooks, lint configuration
- [Environment Config](.env.example): All environment variables with descriptions
- [Docker Compose](docker-compose.yml): 7-service stack (API, Celery, Celery Beat, Web, Admin, PostgreSQL, Redis, Elasticsearch)

## Optional

- [PRD](docs/strategy/PRD.md): Original product requirements document (Phase 1 historical)
- [Ingestion Fixes](docs/research/INGESTION_FIXES.md): Historical slug/date pipeline fixes
- [Catala Status](docs/research/CATALA_STATUS.md): Computational law engine status (experimental/blocked)
- [Interactive Legal Map](docs/design/interactive_legal_map.md): Future visualization concept
- [Municipal Sources CSV](docs/resources/MUNICIPAL_SOURCES.csv): Raw municipal source data
